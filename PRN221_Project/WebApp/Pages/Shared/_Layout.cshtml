@{
    var currentPagePath = Context.Request.Path;
    var loginPagePath = "/Account/Login";
    var registerPagePath = "/Account/Register";
    var forgetPagePath = "/Account/ForgetPassword";
    var landingPagePath = "/LandingPage";

    if (!currentPagePath.Equals(forgetPagePath, StringComparison.OrdinalIgnoreCase) && !currentPagePath.Equals(registerPagePath, StringComparison.OrdinalIgnoreCase) &&
    !currentPagePath.Equals(loginPagePath, StringComparison.OrdinalIgnoreCase) && !Context.Session.Keys.Contains("UserId") 
    && !currentPagePath.Equals(landingPagePath, StringComparison.OrdinalIgnoreCase))
    {
        Context.Response.Redirect(landingPagePath);
    }
    var login = false;
    if (Context.Session.Keys.Contains("UserId"))
    {
        login = true;
    }
}


<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - WebApp</title>


    <link rel="stylesheet" href="~/assets/vendors/mdi/css/materialdesignicons.min.css">
    <link rel="stylesheet" href="~/assets/vendors/css/vendor.bundle.base.css">
    <!-- endinject -->
    <!-- Plugin css for this page -->
    <!-- End plugin css for this page -->
    <!-- inject:css -->
    <!-- endinject -->
    <!-- Layout styles -->
    <!-- End layout styles -->
    <link rel="shortcut icon" href="~/assets/images/favicon.ico" />



    <link rel="stylesheet" href="~/assets/vendors/ti-icons/css/themify-icons.css">
    <link rel="stylesheet" href="~/assets/vendors/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="~/assets/vendors/datatables.net-bs4/dataTables.bootstrap4.css">
    <link rel="stylesheet" href="~/assets/css/vertical-light/style.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="~/lib/jquery/dist/jquery.min.js"></script>
</head>

<body>
    <div class="container-scroller">
        @if (login && !Context.Request.Path.StartsWithSegments("/LandingPage") && !Context.Request.Path.StartsWithSegments("/Account/Login") && !Context.Request.Path.StartsWithSegments("/SingleProduct"))
        {
            @await Html.PartialAsync("_Header")
        }
    
    @RenderBody()
    </div>
    </div>
    </div>
    



    
    <script src="~/assets/js/hoverable-collapse.js"></script>
    <script src="~/assets/js/misc.js"></script>
    <script src="~/assets/vendors/js/vendor.bundle.base.js"></script>
    <script src="~/assets/js/off-canvas.js"></script>
    <script src="~/js/site.js"></script>
    <!-- endinject -->
    @await RenderSectionAsync("Scripts", required: false)
</body>

</html>